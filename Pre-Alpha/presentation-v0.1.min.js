function slidesToGo(){presentation.slideNums||(presentation.load=!1,alert("Slide Error:\nYou have declared the presentation to be displaying the slides to go when it is already in this mode.")),presentation.slideNums=!1}function title(e){presentation.titleCalled?(presentation.load=!1,alert("Title Error:\nYou have designated more than one title for the presentation.")):(document.getElementById("title").innerHTML=e,presentation.titleCalled=!0)}function designateTitleSlide(e){presentation.titleSlide.designateCalled&&(presentation.load=!1,alert("Title Slide:\nYou have designated a slide as title slide more than once.")),e||(e=1),e>presentation.slides.length?(presentation.load=!1,alert("Slide Error:\nYou have designated a slide that has not yet been created as a title slide.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide=!0}function titleSlideHeading(e,t,n){presentation.titleSlide.headingCalled?(presentation.load=!1,alert("Title Slide Heading Error:\nYou have designated a heading for the title slide more than once.")):(presentation.titleSlide.headingCalled=!0,presentation.titleSlide.heading=e,t&&(presentation.titleSlide.colour=t),n&&(presentation.titleSlide.font=n))}function titleSlideAuthor(e){presentation.titleSlide.authorCalled?(presentation.load=!1,alert("Title Slide Author Error:\nYou have designated an author name for the title slide more than once.")):(presentation.titleSlide.author=e,presentation.titleSlide.authorCalled=!0)}function addPoint(e,t,n,i){e>presentation.slides.length?(presentation.load=!1,alert("Point Error:\nYou have created a point for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a point to the title slide, which does not contain content.")):(i||(i="Arial"),n||(n="black"==presentation.bkgcolour?"white":"black"),presentation.slides[e-1].content.push({type:"point",point:t,font:i,colour:n}))}function addLinkPoint(e,t,n,i){e>presentation.slides.length?(presentation.load=!1,alert("Paragraph Error:\nYou have created a paragraph for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a paragraph to the title slide, which does not contain content.")):(i||(i="Arial"),presentation.slides[e-1].content.push({type:"linkpoint",point:t,font:i,uri:n}))}function addParagraph(e,t,n,i){e>presentation.slides.length?(presentation.load=!1,alert("Paragraph Error:\nYou have created a paragraph for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a paragraph to the title slide, which does not contain content.")):(i||(i="Arial"),n||(n="black"==presentation.bkgcolour?"white":"black"),presentation.slides[e-1].content.push({type:"para",para:t,font:i,colour:n}))}function addImage(e,t,n,i,o,a){e>presentation.slides.length?(presentation.load=!1,alert("Image Error:\nYou have added an image to a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added an image to the title slide, which does not contain content.")):(presentation.slides[e-1].imgNum++,imgSpan.innerHTML+="<img id='img"+e+"."+presentation.slides[e-1].imgNum+"' src='"+t+"'/>",presentation.slides[e-1].content.push({type:"img",x:n,y:i,w:o,h:a}))}function addVideo(e,t,n,i,o,a){e>presentation.slides.length?(presentation.load=!1,alert("Video Error:\nYou have added a video to a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a video to the title slide, which does not contain content.")):(presentation.slides[e-1].videoNum++,videoSpan.innerHTML+="<video id='video"+e+"."+presentation.slides[e-1].videoNum+"' src='"+t+"'/>",presentation.slides[e-1].content.push({type:"video",x:n,y:i,w:o,h:a}))}function addSubheading(e,t,n,i){e>presentation.slides.length?(presentation.load=!1,alert("Subheading Error:\nYou have created a subheading for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a heading to the title slide, which does not contain content.")):t.length>34?(presentation.load=!1,alert("Subheading Error:\nA subheading is too long, as it will take up more than one line.")):(i||(i=presentation.slides[e-1].headingColour),n||(n="black"==presentation.bkgcolour?"white":"black"),presentation.slides[e-1].content.push({type:"subh",subh:t,colour:n,font:i}))}function addLine(e,t,n,i,o,a,r){e>presentation.slides.length?(presentation.load=!1,alert("Shape Error:\nYou have created a line for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a line to the title slide, which does not contain content.")):presentation.slides[e-1].content.push({type:"line",position:{x1:t,y1:n,x2:i,y2:o},colour:a,width:r})}function addAlphaLine(e,t,n,i,o,a,r,l,s,c){e>presentation.slides.length?(presentation.load=!1,alert("Shape Error:\nYou have created a line for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a line to the title slide, which does not contain content.")):presentation.slides[e-1].content.push({type:"alphaline",position:{x1:t,y1:n,x2:i,y2:o},r:a,g:r,b:l,a:s,width:c})}function addRect(e,t,n,i,o,a){e>presentation.slides.length?(presentation.load=!1,alert("Shape Error:\nYou have created a rectangle for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a rectangle to the title slide, which does not contain content.")):presentation.slides[e-1].content.push({type:"rect",position:{x:t,y:n,w:i,h:o},colour:a})}function addAlphaRect(e,t,n,i,o,a,r,l,s){e>presentation.slides.length?(presentation.load=!1,alert("Shape Error:\nYou have created a rectangle for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a rectangle to the title slide, which does not contain content.")):presentation.slides[e-1].content.push({type:"alpharect",position:{x:t,y:n,w:i,h:o},r:a,g:r,b:l,a:s})}function addCircle(e,t,n,i,o,a){e>presentation.slides.length?(presentation.load=!1,alert("Shape Error:\nYou have created a circle for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a circle to the title slide, which does not contain content.")):presentation.slides[e-1].content.push({type:"circle",Ox:t,Oy:n,colour:o,radius:i,lineWidth:a})}function addAlphaCircle(e,t,n,i,o,a,r,l,s){e>presentation.slides.length?(presentation.load=!1,alert("Shape Error:\nYou have created a circle for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a circle to the title slide, which does not contain content.")):presentation.slides[e-1].content.push({type:"alphacircle",Ox:t,Oy:n,r:o,g:a,b:r,a:l,radius:i,lineWidth:s})}function addDisc(e,t,n,i,o){e>presentation.slides.length?(presentation.load=!1,alert("Shape Error:\nYou have created a disc for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a disc to the title slide, which does not contain content.")):presentation.slides[e-1].content.push({type:"disc",Ox:t,Oy:n,colour:o,radius:i})}function addAlphaDisc(e,t,n,i,o,a,r,l){e>presentation.slides.length?(presentation.load=!1,alert("Shape Error:\nYou have created a disc for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a disc to the title slide, which does not contain content.")):presentation.slides[e-1].content.push({type:"alphadisc",Ox:t,Oy:n,r:o,g:a,b:r,a:l,radius:i})}function addSector(e,t,n,i,o,a,r){e>presentation.slides.length?(presentation.load=!1,alert("Shape Error:\nYou have created a sector for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a sector to the title slide, which does not contain content.")):presentation.slides[e-1].content.push({type:"sector",Ox:t,Oy:n,colour:r,radius:a,startAngle:i,endAngle:o})}function addAlphaSector(e,t,n,i,o,a,r,l,s,c){e>presentation.slides.length?(presentation.load=!1,alert("Shape Error:\nYou have created a sector for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Title Slide Error:\nYou have added a sector to the title slide, which does not contain content.")):presentation.slides[e-1].content.push({type:"alphasector",Ox:t,Oy:n,r:r,g:l,b:s,radius:a,startAngle:i,endAngle:o})}function addPolygon(e,t,n){if(e>presentation.slides.length)presentation.load=!1,alert("Shape Error:\nYou have created a polygon for a slide you have not yet created.\nIt is best practice to create all slides before all other content.");else if(presentation.slides[e-1].titleSlide)presentation.load=!1,alert("Title Slide Error:\nYou have added a polygon to the title slide, which does not contain content.");else{for(var i=[],o=[],a=0;n>a;a++)i.push(arguments[2*a+3]),o.push(arguments[2*a+4]);presentation.slides[e-1].content.push({type:"polygon",colour:t,x:i,y:o})}}function addAlphaPolygon(e,t,n,i,o,a){if(e>presentation.slides.length)presentation.load=!1,alert("Slide Error:\nYou have created a polygon for a slide you have not yet created.\nIt is best practice to create all slides before all other content.");else if(presentation.slides[e-1].titleSlide)presentation.load=!1,alert("Title Slide Error:\nYou have added a polygon to the title slide, which does not contain content.");else{for(var r=[],l=[],s=0;t>s;s++)r.push(arguments[2*s+3]),l.push(arguments[2*s+4]);presentation.slides[e-1].content.push({type:"polygon",r:n,g:i,b:o,a:a,x:r,y:l})}}function addLinkHotspot(e,t,n,i,o,a){e>presentation.slides.length?(presentation.load=!1,alert("Slide Error:\nYou have created a link hotspot for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide&&(presentation.load=!1,alert("Title Slide Error:\nYou have created a link hotspot for a title slide, which does not contain content.")),presentation.slides[e-1].linkHotspots.push({startX:t,startY:i,endX:n,endY:o,uri:a})}function heading(e,t,n,i){e>presentation.slides.length?(presentation.load=!1,alert("Slide Error:\nYou have created a slide heading for a slide you have not yet created.\nIt is best practice to create all slides before all other content.")):presentation.slides[e-1].titleSlide?(presentation.load=!1,alert("Heading Error:\nYou have created a heading for a title slide.\nDesignate a title slide's heading using the JS function titleSlideHeading().\nNote: If you are not sure about this, ask the person who created the presentation.")):presentation.slides[e-1].headingChanged?(presentation.load=!1,alert("Slide Error:\nYou have created a heading for a slide more than once.")):(presentation.slides[e-1].heading=t,presentation.slides[e-1].headingChanged=!0,n&&(presentation.slides[e-1].headingColour=n),i&&(presentation.slides[e-1].headingFont=i))}function addSlide(e){if(e)if("black"==presentation.bkgcolour)for(var t=0;e>t;t++)presentation.slides.push({heading:"My Heading",headingColour:"palegoldenrod",headingFont:"50px Arial",content:[],linkHotspots:[],headingChanged:!1,currY:innerHeight/5,titleSlide:!1,imgNum:0,currImgNum:0,videoNum:0,currVideoNum:0});else for(var t=0;e>t;t++)presentation.slides.push({heading:"My Heading",headingColour:"black",headingFont:"50px Arial",content:[],linkHotspots:[],headingChanged:!1,currY:innerHeight/5,titleSlide:!1,imgNum:0,currImgNum:0,videoNum:0,currVideoNum:0});else"black"==presentation.bkgcolour?presentation.slides.push({heading:"My Heading",headingColour:"palegoldenrod",headingFont:"50px Arial",content:[],linkHotspots:[],headingChanged:!1,currY:innerHeight/5,titleSlide:!1,imgNum:0,currImgNum:0,videoNum:0,currVideoNum:0}):presentation.slides.push({heading:"My Heading",headingColour:"black",headingFont:"50px Arial",content:[],linkHotspots:[],headingChanged:!1,currY:innerHeight/5,titleSlide:!1,imgNum:0,currImgNum:0,videoNum:0,currVideoNum:0})}function background(e){presentation.backgroundCalled?(presentation.load=!1,alert("Background Error:\nMore than one colour for the background has been declared.")):(presentation.backgroundCalled=!0,presentation.bkgcolour=e)}function theme(e){if(presentation.themeCalled?(presentation.load=!1,alert("Theme Error:\nMore than one theme has been specified.")):(presentation.themeCalled=!0,presentation.theme=e),"glow orange"==e?(presentation.currThemeColour.r=260,presentation.currThemeColour.g=164,presentation.currThemeColour.b=98):"glow blue"==e&&(presentation.currThemeColour.r=106,presentation.currThemeColour.g=247,presentation.currThemeColour.b=250),"radiance"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/radiance.png' id='themeimg'></img>";else if("sparkle"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/sparkle.png' id='themeimg'></img>";else if("slice"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/slice.png' id='themeimg'></img>";else if("dream"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/dream.png' id='themeimg'></img>";else if("space"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/space.png' id='themeimg'></img>";else if("bubbles"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/bubbles.png' id='themeimg'></img>";else if("quote"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/quote.png' id='themeimg'></img>";else if("yosemite"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/yosemitecompressed.png' id='compressedthemeimg'></img>",imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/yosemite.png' id='themeimg'></img>";else if("coast"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/coastcompressed.png' id='compressedthemeimg'></img>",imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/coast.jpg' id='themeimg'></img>";else if("iceland"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/iceland.jpg' id='themeimg'></img>";else if("waterfall"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/waterfall.jpg' id='themeimg'></img>";else if("ancient map"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/ancient_mapcompressed.png' id='compressedthemeimg'></img>",imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/ancient_map.jpg' id='themeimg'></img>";else if("mountain"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/mountain.jpg' id='themeimg'></img>";else if("city"==e)imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/city.jpg' id='themeimg'></img>";else{if("nature"!=e)return 0;imgSpan.innerHTML+="<img src='"+presentation.themeLocation+"/nature.jpg' id='themeimg'></img>"}presentation.themeLocationCalled||(presentation.load=!1,alert("Theme location error:\nYou have not specified a theme location before calling the theme function."))}function changeMargin(e){presentation.changeMarginCalled?(presentation.load=!1,alert("Margin Error:\nMore than one margin has been designated.")):(presentation.changeMarginCalled=!0,presentation.margin=e)}function themeLocation(e){presentation.themeLocationCalled?(presentation.load=!1,alert("Theme Location Error:\nMore than one location for the theme has been designated.")):(presentation.themeLocationCalled=!0,presentation.themeLocation=e)}function noTitleSlideAuthor(){presentation.noTitleSlideAuthorCalled?(presentation.load=!1,alert("Title Slide Error:\nYou have declared to not display a title slide author more then once.")):(presentation.noTitleSlideAuthorCalled=!0,titleSlideAuthor(""))}function draw(){if(!presentation.end&&presentation.load){if(presentation.changeMarginCalled||(presentation.margin=Math.round(innerWidth/34)),presentation.frametime++,presentation.currImgNum=presentation.lastImgNum,presentation.currVideoNum=presentation.lastVideoNum,presentation.currSoundNum=presentation.lastSoundNum,presentation.backgroundCalled&&presentation.themeCalled)presentation.load=!1,alert("Background/Theme Error:\nYou have specified a background colour and a theme.\nPlease only specify one of these.");else if(presentation.backgroundCalled)ctx.fillStyle=presentation.bkgcolour,ctx.fillRect(0,0,innerWidth,innerHeight);else if(presentation.themeCalled)switch(presentation.theme){case"default":ctx.fillStyle="white",ctx.fillRect(0,0,innerWidth,innerHeight);break;case"default black":ctx.fillStyle="black",ctx.fillRect(0,0,innerWidth,innerHeight);break;case"bluestriped":ctx.fillStyle="aquamarine",ctx.fillRect(0,0,innerWidth,innerHeight),ctx.fillStyle="white",ctx.fillRect(0,Math.round(innerHeight/3),innerWidth,Math.round(innerHeight/3));break;case"sidebar":ctx.fillStyle="palegoldenrod",ctx.fillRect(0,0,innerWidth,innerHeight),ctx.fillStyle="grey",ctx.fillRect(Math.round(5*innerWidth/6),0,Math.round(innerWidth/6),innerHeight),ctx.fillStyle="white",ctx.fillRect(Math.round(5*innerWidth/6),0,Math.round(innerWidth/30),innerHeight);break;case"glow orange":presentation.frametime%20==0&&(240==presentation.currThemeColour.r?presentation.direction="up":260==presentation.currThemeColour.r&&(presentation.direction="down"),"up"==presentation.direction?(presentation.currThemeColour.r++,presentation.currThemeColour.g++,presentation.currThemeColour.b++):(presentation.currThemeColour.r--,presentation.currThemeColour.g--,presentation.currThemeColour.b--)),ctx.fillStyle="rgb("+presentation.currThemeColour.r+", "+presentation.currThemeColour.g+", "+presentation.currThemeColour.b+")",ctx.fillRect(0,0,innerWidth,innerHeight);break;case"glow blue":presentation.frametime%20==0&&(60==presentation.currThemeColour.r?presentation.direction="up":110==presentation.currThemeColour.r&&(presentation.direction="down"),"up"==presentation.direction?(presentation.currThemeColour.r++,presentation.currThemeColour.g++,presentation.currThemeColour.b++):(presentation.currThemeColour.r--,presentation.currThemeColour.g--,presentation.currThemeColour.b--)),ctx.fillStyle="rgb("+presentation.currThemeColour.r+", "+presentation.currThemeColour.g+", "+presentation.currThemeColour.b+")",ctx.fillRect(0,0,innerWidth,innerHeight);break;case"orange border":for(e=0;21>e;e++)ctx.fillStyle="rgb("+(255-e)+", 160, 120)",ctx.fillRect(e,e,innerWidth-1,innerHeight-1);break;case"radiance":case"sparkle":case"slice":case"dream":case"bubbles":case"quote":case"iceland":case"waterfall":case"mountain":case"city":case"nature":ctx.drawImage(document.getElementById("themeimg"),0,0,innerWidth,innerHeight);break;case"yosemite":case"coast":case"ancient map":ctx.drawImage(document.getElementById("compressedthemeimg"),0,0,innerWidth,innerHeight),ctx.drawImage(document.getElementById("themeimg"),0,0,innerWidth,innerHeight);break;case"space":ctx.fillStyle="#133177",ctx.fillRect(0,0,innerWidth,innerHeight),ctx.drawImage(document.getElementById("themeimg"),0,0,innerWidth,innerWidth/1366*768);break;default:presentation.load=!1,alert("Theme Error:\n'"+presentation.theme+"' is not one of the themes.")}if(ctx.font=Math.round(innerWidth/50+5).toString()+"px Comic Sans MS","black"!=presentation.bkgcolour&&!presentation.themeCalled||"default"==presentation.theme||"slice"==presentation.theme||"sidebar"==presentation.theme?ctx.fillStyle="black":ctx.fillStyle="white",ctx.textAlign="right",presentation.slideNums?ctx.fillText(presentation.slide+"/"+presentation.slides.length,innerWidth-30,45):ctx.fillText((presentation.slide==presentation.slides.length?"No":(presentation.slides.length-presentation.slide).toString())+(presentation.slide==presentation.slides.length-1?" slide ":" slides ")+"to go",innerWidth-30,45),presentation.fullscreen||1!=presentation.slide||(ctx.font=Math.round(innerWidth/50+5).toString()+"px Comic Sans MS",ctx.fillStyle=presentation.titleSlide.colour,ctx.textAlign="center",ctx.fillText("Click to enter fullscreen mode",innerWidth/2,innerHeight/4*3)),presentation.slides[presentation.slide-1].titleSlide)ctx.font=Math.round(innerWidth/13).toString()+"px "+presentation.titleSlide.font,ctx.fillStyle=presentation.titleSlide.colour,ctx.textAlign="center",ctx.fillText(presentation.titleSlide.heading,innerWidth/2,innerHeight/3),""!=presentation.titleSlide.author&&(ctx.font=Math.round(innerWidth/22).toString()+"px "+presentation.titleSlide.font,ctx.fillText("by "+presentation.titleSlide.author,innerWidth/2,innerHeight/5*3));else{ctx.font=Math.round(innerWidth/27).toString()+"px "+presentation.slides[presentation.slide-1].headingFont,ctx.fillStyle=presentation.slides[presentation.slide-1].headingColour,ctx.textAlign="center",ctx.fillText(presentation.slides[presentation.slide-1].heading,innerWidth/2,innerHeight/11),presentation.slides[presentation.slide-1].currY=innerHeight/5,presentation.slides[presentation.slide-1].currImgNum=0,presentation.slides[presentation.slide-1].currVideoNum=0,presentation.slides[presentation.slide-1].currSoundNum=0;for(var e=0;e<presentation.slides[presentation.slide-1].content.length;e++)switch(content=presentation.slides[presentation.slide-1].content[e],content.type){case"subh":ctx.font=Math.round(innerWidth/28).toString()+"px "+content.font,ctx.fillStyle=content.colour,ctx.textAlign="left",ctx.fillText(content.subh,presentation.margin,presentation.slides[presentation.slide-1].currY),presentation.slides[presentation.slide-1].currY+=Math.round(innerWidth/28)+5;break;case"point":ctx.font=Math.round(innerWidth/30).toString()+"px "+content.font,ctx.textAlign="left",ctx.beginPath(),ctx.fillStyle=content.colour,ctx.arc(presentation.margin,presentation.slides[presentation.slide-1].currY-Math.round(innerWidth/30)/3,Math.round(innerWidth/30)/9,0,2*Math.PI),ctx.closePath(),ctx.fill();for(var t=0,e=0;e<Math.ceil(content.point.length/45);e++){for(var n=!1,i=45*(e+1);!n&&e!=Math.ceil(content.point.length/45)-1;)" "==content.point.substring(i,i+1)&&(n=!0),i++;ctx.fillText(content.point.substring(t,i),presentation.margin+4*Math.round(innerWidth/30)/9,presentation.slides[presentation.slide-1].currY),t=i,presentation.slides[presentation.slide-1].currY+=Math.round(innerWidth/30)+5}break;case"linkpoint":ctx.font=Math.round(innerWidth/30).toString()+"px "+content.font,ctx.textAlign="left",ctx.beginPath(),ctx.fillStyle="lightblue",ctx.arc(presentation.margin,presentation.slides[presentation.slide-1].currY-Math.round(innerWidth/30)/3,Math.round(innerWidth/30)/9,0,2*Math.PI),ctx.closePath(),ctx.fill();var t=0;content.startY=presentation.slides[presentation.slide-1].currY-Math.round(innerWidth/30);for(var e=0;e<Math.ceil(content.point.length/45);e++){for(var n=!1,i=45*(e+1);!n&&e!=Math.ceil(content.point.length/45)-1;)" "==content.point.substring(i,i+1)&&(n=!0),i++;ctx.fillText(content.point.substring(t,i),presentation.margin+4*Math.round(innerWidth/30)/9,presentation.slides[presentation.slide-1].currY),t=i,presentation.slides[presentation.slide-1].currY+=Math.round(innerWidth/30)+5}content.endY=presentation.slides[presentation.slide-1].currY-Math.round(innerWidth/30);break;case"para":ctx.font=Math.round(innerWidth/30).toString()+"px "+content.font,ctx.fillStyle=content.colour,ctx.textAlign="left";for(var t=0,e=0;e<Math.ceil(content.para.length/45);e++){for(var n=!1,i=45*(e+1);!n&&e!=Math.ceil(content.para.length/45)-1;)" "==content.para.substring(i,i+1)&&(n=!0),i++;ctx.fillText(content.para.substring(t,i),presentation.margin+4*Math.round(innerWidth/30)/9,presentation.slides[presentation.slide-1].currY),t=i,presentation.slides[presentation.slide-1].currY+=Math.round(innerWidth/30)+5}break;case"img":presentation.slides[presentation.slide-1].currImgNum++;var o=document.getElementById("img"+presentation.slide+"."+presentation.slides[presentation.slide-1].currImgNum);ctx.drawImage(o,content.x<0?innerWidth-Math.abs(content.x):content.x,content.y<0?innerHeight-Math.abs(content.y):content.y,content.w,content.h);break;case"video":presentation.slides[presentation.slide-1].currVideoNum++;var a=document.getElementById("video"+presentation.slide+"."+presentation.slides[presentation.slide-1].currVideoNum);ctx.drawImage(a,content.x<0?innerWidth-Math.abs(content.x):content.x,content.y<0?innerHeight-Math.abs(content.y):content.y,content.w,content.h);break;case"line":ctx.beginPath(),ctx.strokeStyle=content.colour,ctx.lineWidth=content.width?content.width:1,ctx.moveTo(content.position.x1<0?innerWidth-Math.abs(content.position.x1):content.position.x1,content.position.y1<0?innerWidth-Math.abs(content.position.y1):content.position.y1),ctx.lineTo(content.position.x2<0?innerWidth-Math.abs(content.position.x2):content.position.x2,content.position.y2<0?innerWidth-Math.abs(content.position.y2):content.position.y2),ctx.closePath(),ctx.stroke();break;case"alphaline":ctx.beginPath(),ctx.strokeStyle="rgba("+content.r+", "+content.g+", "+content.b+", "+content.a+")",ctx.lineWidth=content.width?content.width:1,ctx.moveTo(content.position.x1<0?innerWidth-Math.abs(content.position.x1):content.position.x1,content.position.y1<0?innerWidth-Math.abs(content.position.y1):content.position.y1),ctx.lineTo(content.position.x2<0?innerWidth-Math.abs(content.position.x2):content.position.x2,content.position.y2),ctx.closePath(),ctx.stroke();break;case"rect":ctx.fillStyle=content.colour,ctx.fillRect(content.position.x<0?innerWidth-Math.abs(content.position.x):content.position.x,content.position.y<0?innerWidth-Math.abs(content.position.y):content.position.y,content.position.w,content.position.h);break;case"alpharect":ctx.fillStyle="rgba("+content.r+", "+content.g+", "+content.b+", "+content.a+")",ctx.fillRect(content.position.x<0?innerWidth-Math.abs(content.position.x):content.position.x,content.position.y<0?innerWidth-Math.abs(content.position.y):content.position.y,content.position.w,content.position.h);break;case"polygon":ctx.beginPath(),ctx.fillStyle=content.colour,ctx.moveTo(content.x[0]<0?innerWidth-Math.abs(content.x[0]):content.x[0],content.y[0]<0?innerWidth-Math.abs(content.y[0]):content.y[0]);for(var e=1;e<content.x.length;e++)ctx.lineTo(content.x[e]<0?innerWidth-Math.abs(content.x[e]):content.x[e],content.y[e]<0?innerWidth-Math.abs(content.y[e]):content.y[e]);ctx.closePath(),ctx.fill();break;case"alphapolygon":ctx.beginPath(),ctx.fillStyle="rgba("+content.r+", "+content.g+", "+content.b+", "+content.a+")",ctx.moveTo(content.x[0]<0?innerWidth-Math.abs(content.x[0]):content.x[0],content.y[0]<0?innerWidth-Math.abs(content.y[0]):content.y[0]);for(var e=1;e<content.x.length;e++)ctx.lineTo(content.x[e]<0?innerWidth-Math.abs(content.x[e]):content.x[e],content.y[e]<0?innerWidth-Math.abs(content.y[e]):content.y[e]);ctx.closePath(),ctx.fill();break;case"circle":ctx.beginPath(),ctx.strokeStyle=content.colour,ctx.lineWidth=content.width,ctx.arc(content.Ox<0?innerWidth-Math.abs(content.Ox):content.Ox,content.Oy<0?innerWidth-Math.abs(content.Oy):content.Oy,content.radius,0,2*Math.PI),ctx.closePath(),ctx.stroke();break;case"alphacircle":ctx.beginPath(),ctx.strokeStyle="rgba("+content.r+", "+content.g+", "+content.b+", "+content.a+")",ctx.lineWidth=content.width,ctx.arc(content.Ox<0?innerWidth-Math.abs(content.Ox):content.Ox,content.Oy<0?innerWidth-Math.abs(content.Oy):content.Oy,content.radius,0,2*Math.PI),ctx.closePath(),ctx.stroke();break;case"disc":ctx.beginPath(),ctx.fillStyle=content.colour,ctx.arc(content.Ox<0?innerWidth-Math.abs(content.Ox):content.Ox,content.Oy<0?innerWidth-Math.abs(content.Oy):content.Oy,content.radius,0,2*Math.PI),ctx.closePath(),ctx.fill();break;case"alphadisc":ctx.beginPath(),ctx.fillStyle="rgba("+content.r+", "+content.g+", "+content.b+", "+content.a+")",ctx.arc(content.Ox<0?innerWidth-Math.abs(content.Ox):content.Ox,content.Oy<0?innerWidth-Math.abs(content.Oy):content.Oy,content.radius,0,2*Math.PI),ctx.closePath(),ctx.fill();break;case"sector":ctx.beginPath(),ctx.fillStyle=content.colour,ctx.arc(content.Ox<0?innerWidth-Math.abs(content.Ox):content.Ox,content.Oy<0?innerWidth-Math.abs(content.Oy):content.Oy,content.radius,content.startAngle,content.endAngle),ctx.closePath(),ctx.fill();break;case"alphasector":ctx.beginPath(),ctx.fillStyle="rgba("+content.r+", "+content.g+", "+content.b+", "+content.a+")",ctx.arc(content.Ox<0?innerWidth-Math.abs(content.Ox):content.Ox,content.Oy<0?innerWidth-Math.abs(content.Oy):content.Oy,content.radius,content.startAngle,content.endAngle),ctx.closePath(),ctx.fill()}}}else presentation.load||(ctx.fillStyle=presentation.bkgcolour,ctx.fillRect(0,0,innerWidth,innerHeight),ctx.fillStyle=presentation.bkgcolour,ctx.fillRect(0,0,innerWidth,innerHeight),ctx.font=Math.round(innerWidth/47+5).toString()+"px Arial","white"!=presentation.bkgcolour?ctx.fillStyle="white":ctx.fillStyle="black",ctx.textAlign="center",ctx.fillText("Sorry, this presentation has encountered an error. Ask the creator to fix the source code.",innerWidth/2,innerHeight/10),ctx.font=Math.round(innerWidth/90+5).toString()+"px Arial",ctx.fillText("Try pressing F12 or the equivalent button to open up the inspection console or go to presentationjs.neocities.org/implementation",innerWidth/2,innerHeight/6),console.log("If you still cannot fix the problem, contact me at hijacker.ho@outlook.com with the specific subject of 'PresentationJS error'"))}function customiseEndMessage(e){presentation.customiseEndMessageCalled?(presentation.load=!1,alert("End Message Error:\nThe end message has been customised more than once.")):e.length>33?(presentation.load=!1,alert("End Message Error:\nThe end message cannot be longer than 35 characters (including spaces).")):(presentation.customiseEndMessageCalled=!0,presentation.endMessage=e)}function endPresent(){if(presentation.end=!0,presentation.backgroundCalled)ctx.fillStyle=presentation.bkgcolour,ctx.fillRect(0,0,innerWidth,innerHeight);else if(presentation.themeCalled)switch(presentation.theme){case"default":ctx.fillStyle="white",ctx.fillRect(0,0,innerWidth,innerHeight);break;case"default black":ctx.fillStyle="black",ctx.fillRect(0,0,innerWidth,innerHeight);break;case"bluestriped":ctx.fillStyle="aquamarine",ctx.fillRect(0,0,innerWidth,innerHeight),ctx.fillStyle="white",ctx.fillRect(0,Math.round(innerHeight/3),innerWidth,Math.round(innerHeight/3));break;case"sidebar":ctx.fillStyle="palegoldenrod",ctx.fillRect(0,0,innerWidth,innerHeight),ctx.fillStyle="grey",ctx.fillRect(Math.round(5*innerWidth/6),0,Math.round(innerWidth/6),innerHeight),ctx.fillStyle="white",ctx.fillRect(Math.round(5*innerWidth/6),0,Math.round(innerWidth/30),innerHeight);
break;case"glow orange":ctx.fillStyle="rgb("+presentation.currThemeColour.r+", "+presentation.currThemeColour.g+", "+presentation.currThemeColour.b+")",ctx.fillRect(0,0,innerWidth,innerHeight);break;case"glow blue":ctx.fillStyle="rgb("+presentation.currThemeColour.r+", "+presentation.currThemeColour.g+", "+presentation.currThemeColour.b+")",ctx.fillRect(0,0,innerWidth,innerHeight);break;case"orange border":for(i=0;i<21;i++)ctx.fillStyle="rgb("+(255-i)+", 160, 120)",ctx.fillRect(i,i,innerWidth-1,innerHeight-1);break;case"radiance":case"sparkle":case"slice":case"dream":case"bubbles":case"quote":case"iceland":case"waterfall":case"mountain":case"city":case"nature":ctx.drawImage(document.getElementById("themeimg"),0,0,innerWidth,innerHeight);break;case"yosemite":case"coast":case"ancient map":ctx.drawImage(document.getElementById("compressedthemeimg"),0,0,innerWidth,innerHeight),ctx.drawImage(document.getElementById("themeimg"),0,0,innerWidth,innerHeight);break;case"space":ctx.fillStyle="#133177",ctx.fillRect(0,0,innerWidth,innerHeight),ctx.drawImage(document.getElementById("themeimg"),0,0,innerWidth,innerWidth/1366*768);break;default:presentation.load=!1,alert("Theme Error:\n'"+presentation.theme+"' is not one of the themes.")}ctx.font=Math.round(innerWidth/20).toString()+"px Comic Sans MS","white"!=presentation.bkgcolour?ctx.fillStyle="white":ctx.fillStyle="black",ctx.textAlign="center",ctx.fillText(presentation.endMessage,innerWidth/2,70),ctx.font=Math.round(innerWidth/30).toString()+"px Comic Sans MS",ctx.fillText("This is the end of the presentation.",innerWidth/2,130)}function launchIntoFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():alert("Please press F11 or a similar button to go fullscreen.")}function ready(e){if(presentation.load=!0,document.getElementById("canvas")){if(e){if(presentation.framerateCalled)presentation.load=!1,alert("Graphics Feedback Error:\nYou have selected a framerate for the presentation more than once.");else if(isNaN(e))switch(e){case"high":presentation.framerate=1;break;case"medium":presentation.framerate=50;break;case"low":presentation.framerate=100;break;case"default":presentation.framerate=25;break;default:presentation.load=!1,alert("Graphics Feedback Error:\nYou selected a framerate mode that does not exist, "+e)}else presentation.framerate=e;presentation.framerateCalled=!0}presentation.readyCalled?(presentation.load=!1,alert("Document Ready Error:\nThe document has been called to ready more than once.")):(document.documentElement.style.overflow="hidden",document.body.scroll="no",imgSpan=document.getElementById("imgSpan"),soundSpan=document.getElementById("soundSpan"),canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),ctx.strokeStyle="black",ctx.fillStyle="black",presentation.readyCalled=!0,setInterval(function(){canvas.width=innerWidth,canvas.height=innerHeight,draw(),presentation.end&&endPresent()},presentation.framerate))}else presentation.load=!1,alert("Load Error:\nYou have called the ready function before the page has loaded.\nPlease call it afterwards by either inserting a <script> tag calling it\nor add an attribute to body like this: onload='ready()', and insert between the parentheses the chosen framerate (or graphics feedback speed)")}var canvas,ctx,imgSpan,soundSpan,videoSpan,content;document.addEventListener("fullscreenchange",function(){presentation.load&&(presentation.fullscreen=!presentation.fullscreen)}),document.addEventListener("mozfullscreenchange",function(){presentation.load&&(presentation.fullscreen=!presentation.fullscreen)}),document.addEventListener("webkitfullscreenchange",function(){presentation.load&&(presentation.fullscreen=!presentation.fullscreen)}),document.addEventListener("click",function(e){if(presentation.load){for(var t=0;t<presentation.slides[presentation.slide-1].content.length;t++)if("linkpoint"==presentation.slides[presentation.slide-1].content[t].type&&e.offsetY>presentation.slides[presentation.slide-1].content[t].startY&&e.offsetY<presentation.slides[presentation.slide-1].content[t].endY&&e.offsetX>presentation.margin){var n=document.createElement("form");n.method="GET",n.action=presentation.slides[presentation.slide-1].content[t].uri,n.target="_blank",document.body.appendChild(n),n.submit()}for(var t=0;t<presentation.slides[presentation.slide-1].linkHotspots.length;t++)if(e.offsetY>presentation.slides[presentation.slide-1].linkHotspots[t].startY&&e.offsetY<presentation.slides[presentation.slide-1].linkHotspots[t].endY&&e.offsetX>presentation.slides[presentation.slide-1].linkHotspots[t].startX&&e.offsetX<presentation.slides[presentation.slide-1].linkHotspots[t].endX){var n=document.createElement("form");n.method="GET",n.action=presentation.slides[presentation.slide-1].linkHotspots[t].uri,n.target="_blank",document.body.appendChild(n),n.submit()}presentation.fullscreen?presentation.slide==presentation.slides.length?endPresent():presentation.slide++:launchIntoFullscreen(canvas)}}),document.addEventListener("keydown",function(e){presentation.load&&(39==e.which?(e.preventDefault(),presentation.slide==presentation.slides.length?endPresent():presentation.slide++):37==e.which&&(e.preventDefault(),presentation.end?presentation.end=!1:1!=presentation.slide&&presentation.slide--))});var presentation={slides:[],slide:1,fullscreen:!1,endMessage:"Thank you for watching this browser presentation.",margin:Math.round(innerWidth/34),end:!1,slideNums:!0,framerate:25,load:!1,themeLocation:"",themeLocationCalled:!1,readyCalled:!1,backgroundCalled:!1,themeCalled:!1,frametime:0,customiseEndMessageCalled:!1,changeMarginCalled:!1,titleCalled:!1,noTitleSlideAuthorCalled:!1,framerateCalled:!1,bkgcolour:"white",theme:"",direction:"down",currThemeColour:{r:0,g:0,b:0},titleSlide:{font:"Arial",heading:"My presentation",colour:"#f9ffff",author:"Anonymous",designateCalled:!1,headingCalled:!1,authorCalled:!1}};